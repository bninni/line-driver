function o(n){return n.splice(0,1)[0]}function c(n,t){n.splice(0,0,t)}function e(n){return"string"==typeof n}function r(a,L,m){function M(){Object.defineProperties(p,{write:{value:w}}),Object.defineProperties(s,{line:{set:function(n){i=n},get:function(){return i}},close:{value:function(){y(),c=!0}},hasNextLine:{value:T},goToLine:{value:f},nextLine:{get:f},write:{value:w}}),Object.defineProperties(u,{absolute:{get:function(){return h}},valid:{get:function(){return l}}}),Object.freeze(s),Object.freeze(u)}function w(t){var n=Array.prototype.slice.apply(arguments);n.forEach(function e(n){return void 0!==n&&null!==n?n.constructor===Array?n.forEach(e):void x.push(n):void 0})}function r(e,r){var u=N.slice(),i=function(){var f;u.length?(f=t[o(u)],f&&f[e]?f[e](i,n,r):i()):a[e]&&a[e](n,r)};i()}function y(){c||(r("close",p),m&&m(x.join(D)+S,function(){r("write")}))}function b(n){var t={};return Object.defineProperty(t,"index",{get:function(){return u}}),j&&(n=n.split(j)[0]),z&&(n=n.trim()),t.line=n,r("clean",t),t.line}function k(){return(!F||F>l)&&(!v||v-E>l)}function P(t){var n={line:t,valid:!0};return Object.defineProperty(n,"index",{get:function(){return u}}),A&&!t?!1:(r("valid",n),n.valid)}function f(n,t){var n=n||O;for(i=null;!c&&n&&k()&&(i=o(d),W.push(i),e(i));)i=b(i),P(i)&&n--,h++;return e(i)&&!t&&l++,i}function T(n){for(var t=0,e=0,n=n||O;!c&&t<d.length;)if(P(b(d[t++]))&&++e===n)return!0;return!1}function R(){r("init",p)}function g(){r("line",s)}function q(){var n;for(M(),R(),n=E;n--;)f(1,!0);for(e(f(1))&&g();e(f());)g();y()}var i,W=[],x=[],c=!1,n=a.props,O=n.step,E=n.first=Math.max(0,n.first-1),v=n.last,F=n.count,d=L.split(n.delimiter),j=n.commentDelim,z=n.trim,A=n.ignoreEmpty,D=n.join,S=n.eof,h=0,l=0,N=a.template.slice(),u={},p={},s={index:u};q()}function f(n,t,e,i){e.get(t,function(t){var e="";t.on("data",function(n){e+=n}),t.on("end",function(){r(n,e,i)})})}function v(r,o){var e,r=r||{},i={};for(e in n)i[e]=n[e];-1===o.indexOf("default")&&c(o,"default"),o.forEach(function(o){var n,r;if(n=t[o],n&&(r=n.props))for(e in r)i[e]=r[e]});for(e in r)i[e]=r[e];return i}function u(t,i){var t=t||{},o=t.props=v(t.props,t.template=t.template||[]),e=t["in"]||o["in"],u=t.out||o.out||e,c="sync"in o?o.sync:n.sync,g=o.encoding||n.encoding;if(e)return i&&(i=c?function(n,t){d(u,n),t()}:function(n,t){p(u,n,t)}),e.startsWith("http://")?f(t,e,m,i):e.startsWith("https://")?f(t,e,a,i):c?r(t,s(e,g),i):void l(e,g,function(n,e){if(n)throw n;r(t,e,i)})}var i=require("fs"),m=require("http"),a=require("https"),l=i.readFile,s=i.readFileSync,p=i.writeFile,d=i.writeFileSync,n={encoding:"utf8",delimiter:new RegExp("\r\n?|\r?\n"),join:"\n",eof:"",first:1,step:1,trim:!1,commentDelim:"",ignoreEmpty:!1,sync:!1},t={};module.exports={read:function(n){u(n,!1)},write:function(n){u(n,!0)},template:function(n,e){n in t||(t[n]=e)},settings:function(e){var t;for(t in e)n[t]=e[t]}};