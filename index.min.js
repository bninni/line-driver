function o(n){return n.splice(0,1)[0]}function a(n,i){n.splice(0,0,i)}function t(n){return"string"==typeof n}function u(c,z,v){function M(){var o,t={};Object.defineProperties(r,{line:{set:function(n){e=n},get:function(){return e}},args:{get:function(){return u}},close:{value:function(){S(),g=!0}},hasNextLine:{get:N},nextLine:{get:s}}),Object.defineProperties(j,{absolute:{get:function(){return q}},valid:{get:function(){return d}}}),-1===l.indexOf("default")&&a(l,"default");for(o in n)t[o]=n[o];l.forEach(function(r){var e,n;if(e=i[r]){n=e.args||{};for(o in n)t[o]=n[o]}});for(o in u)t[o]=u[o];m=z.split(t.delimiter),O=t.skip,E=t.first=Math.max(0,t.first-1),p=t.last,b=t.count,w=t.commentDelim,D=t.trim,L=t.ignoreEmpty,u=t,v&&(r.write=y)}function y(n){return void 0!==n&&null!==n?n.constructor===Array?n.forEach(y):void P.push(n):void 0}function f(n,e){var r=l.slice(),t=function(){var f;r.length?(f=i[o(r)],f&&f[n]?f[n](t,u,e):t()):c[n]&&c[n](u,e)};t()}function S(){g||(f("close"),v&&v(P.join(u.join||n.join),function(){f("write")}))}function F(n){var i={};return w&&(n=n.split(w)[0]),D&&(n=n.trim()),i.str=n,f("clean",i),i.str}function R(){return(!b||b>d)&&(!p||p-E>d)}function x(i){var n={line:i,index:j};return L&&!i?!1:(n.valid=!0,f("valid",n),n.valid)}function s(n,i){var n=n||O;for(e=null;!g&&n&&R()&&(e=o(m),t(e));)e=F(e),x(e)&&n--,q++;return t(e)&&!i&&d++,e}function N(n){for(var i=0,t=0,n=n||O;!g&&i<m.length;)if(x(F(m[i++]))&&++t===n)return!0;return!1}function k(){f("init")}function h(){var n=f("line",r);v&&y(n)}function V(){var n;for(M(),k(),n=E;n--;)s(1,!0);if(A)return r.init=k,r.clean=F,r.isValid=x,r.line=h,A(r);for(t(s(1))&&h();t(s());)h();S()}var e,O,E,p,b,m,w,D,L,P=[],g=!1,c=c||{},u=c.args||{},A=c.handler,q=0,d=0,l=c.template?c.template.slice():[],j={},r={index:j};V()}function r(t,e){var t=t||{},i=t.args||{},r=i["in"],a="sync"in i?i.sync:n.sync,o=i.encoding||n.encoding;if(r)return e&&(e=function(n,t){f(i.out||r,n,t)}),a?u(t,c(r,o),e):void l(r,o,function(n,i){if(n)throw n;u(t,i,e)})}var e=require("fs"),l=e.readFile,c=e.readFileSync,f=e.writeFile,s=e.writeFileSync,n={encoding:"utf8",delimiter:new RegExp("\r\n?|\r?\n"),join:"\n",first:1,skip:1,trim:!1,commentDelim:"",ignoreEmpty:!1,sync:!1},i={};module.exports={read:function(n){r(n,!1)},write:function(n){r(n,!0)},template:function(n,t){n in i||(i[n]=t)},settings:function(t){var i;for(i in t)n[i]=t[i]}};