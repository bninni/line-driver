function o(n){return n.splice(0,1)[0]}function a(n,e){n.splice(0,0,e)}function i(n){return"string"==typeof n}function u(r,M,q){function N(){var o,i={};Object.defineProperties(j,{write:{value:w}}),Object.defineProperties(m,{line:{set:function(n){t=n},get:function(){return t}},close:{value:function(){O(),s=!0}},hasNextLine:{value:B},goToLine:{value:c},nextLine:{get:c},write:{value:w}}),Object.defineProperties(A,{absolute:{get:function(){return S}},valid:{get:function(){return p}}}),-1===l.indexOf("default")&&a(l,"default");for(o in n)i[o]=n[o];l.forEach(function(r){var n,t;if(n=e[r]){n.handler&&(d=n.handler),t=n.props||{};for(o in t)i[o]=t[o]}}),r.handler&&(d=r.handler);for(o in u)i[o]=u[o];v=M.split(i.delimiter),x=i.skip,h=i.first=Math.max(0,i.first-1),E=i.last,b=i.count,g=i.commentDelim,L=i.trim,P=i.ignoreEmpty,u=i}function w(n){return void 0!==n&&null!==n?n.constructor===Array?n.forEach(w):void k.push(n):void 0}function f(n,t){var f=l.slice(),i=function(){var c;f.length?(c=e[o(f)],c&&c[n]?c[n](i,u,t):i()):r[n]&&r[n](u,t)};i()}function O(){s||(f("close",j),q&&q(k.join(u.join||n.join)+u.eof,function(){f("write")}))}function F(n){var e={};return g&&(n=n.split(g)[0]),L&&(n=n.trim()),e.line=n,f("clean",e),e.line}function R(){return(!b||b>p)&&(!E||E-h>p)}function D(n){var e={line:n,valid:!0};return P&&!n?!1:(f("valid",e),e.valid)}function c(n,e){var n=n||x;for(t=null;!s&&n&&R()&&(t=o(v),i(t));)t=F(t),D(t)&&n--,S++;return i(t)&&!e&&p++,t}function B(n){for(var e=0,i=0,n=n||x;!s&&e<v.length;)if(D(F(v[e++]))&&++i===n)return!0;return!1}function T(){f("init",j)}function y(){f("line",m)}function z(){var n;for(N(),T(),n=h;n--;)c(1,!0);if(d)Object.defineProperties(m,{sendLine:{value:y}}),d(u,m);else for(i(c(1))&&y();i(c());)y();O()}var t,x,h,E,b,v,d,g,L,P,k=[],s=!1,r=r||{},u=r.props||{},S=0,p=0,l=r.template?r.template.slice():[],A={},j={},m={index:A};z()}function r(i,t){var i=i||{},e=i.props||{},r=e["in"],o=e.out||r,a="sync"in e?e.sync:n.sync,d=e.encoding||n.encoding;if(r)return t&&(t=a?function(n,e){l(o,n),e()}:function(n,e){c(o,n,e)}),a?u(i,f(r,d),t):void s(r,d,function(n,e){if(n)throw n;u(i,e,t)})}var t=require("fs"),s=t.readFile,f=t.readFileSync,c=t.writeFile,l=t.writeFileSync,n={encoding:"utf8",delimiter:new RegExp("\r\n?|\r?\n"),join:"\n",eof:"",first:1,skip:1,trim:!1,commentDelim:"",ignoreEmpty:!1,sync:!1},e={};module.exports={read:function(n){r(n,!1)},write:function(n){r(n,!0)},template:function(n,i){n in e||(e[n]=i)},settings:function(i){var e;for(e in i)n[e]=i[e]}};