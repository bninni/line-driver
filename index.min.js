function o(n){return n.splice(0,1)[0]}function a(n,i){n.splice(0,0,i)}function i(n){return"string"==typeof n}function u(c,z,v){function M(){var e,i={};Object.defineProperties(r,{line:{set:function(n){t=n},get:function(){return t}},args:{get:function(){return u}},close:{value:function(){S(),g=!0}},hasNextLine:{get:N},nextLine:{get:s}}),Object.defineProperties(j,{absolute:{get:function(){return q}},valid:{get:function(){return d}}}),-1===l.indexOf("default")&&a(l,"default");for(e in n)i[e]=n[e];l.forEach(function(t){var n=t.args||{};for(e in n)i[e]=n[e]});for(e in u)i[e]=u[e];m=z.split(i.delimiter),O=i.skip,E=i.first=Math.max(0,i.first-1),p=i.last,b=i.count,w=i.commentDelim,D=i.trim,L=i.ignoreEmpty,u=i,v&&(r.write=y)}function y(n){return void 0!==n&&null!==n?n.constructor===Array?n.forEach(y):void P.push(n):void 0}function f(n,t){var r=l.slice(),i=function(){var u;r.length?(u=e[o(r)],u&&u[n]?u[n](i,t):i()):c[n]&&c[n](t)};i()}function S(){g||(f("close",u),v&&v(P.join(u.join||n.join),function(){f("write",u)}))}function F(n){var i={};return w&&(n=n.split(w)[0]),D&&(n=n.trim()),i.str=n,f("clean",i),i.str}function R(){return(!b||b>d)&&(!p||p-E>d)}function x(i){var n={line:i,index:j};return L&&!i?!1:(n.valid=!0,f("valid",n),n.valid)}function s(n,e){var n=n||O;for(t=null;!g&&n&&R()&&(t=o(m),i(t));)t=F(t),x(t)&&n--,q++;return i(t)&&!e&&d++,t}function N(n){for(var i=0,t=0,n=n||O;!g&&i<m.length;)if(x(F(m[i++]))&&++t===n)return!0;return!1}function k(){f("init",u)}function h(){var n=f("line",r);v&&y(n)}function V(){var n;for(M(),k(),n=E;n--;)s(1,!0);if(A)return r.init=k,r.clean=F,r.isValid=x,r.line=h,A(r);for(i(s(1))&&h();i(s());)h();S()}var t,O,E,p,b,m,w,D,L,P=[],g=!1,c=c||{},u=c.args||{},A=c.handler,q=0,d=0,l=c.template?c.template.slice():[],j={},r={index:j};V()}function r(t,e){var t=t||{},i=t.args||{},r=i["in"],a="sync"in i?i.sync:n.sync,o=i.encoding||n.encoding;if(r)return e&&(e=function(n,t){f(i.out||r,n,t)}),a?u(t,c(r,o),e):void l(r,o,function(n,i){if(n)throw n;u(t,i,e)})}var t=require("fs"),l=t.readFile,c=t.readFileSync,f=t.writeFile,s=t.writeFileSync,n={encoding:"utf8",delimiter:new RegExp("\r\n?|\r?\n"),join:"\n",first:1,skip:1,trim:!1,commentDelim:"",ignoreEmpty:!1,sync:!1},e={};module.exports={read:function(n){r(n,!1)},write:function(n){r(n,!0)},template:function(n,i){n in e||(e[n]=i)},settings:function(t){var i;for(i in t)n[i]=t[i]}};